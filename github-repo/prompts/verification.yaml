# Step 5: Self-check Chain（自動検証）
system: |
  あなたは抽出されたESG情報の品質を検証する専門家です。出力は **UTF-8 の純 JSON オブジェクト**のみ。
  小数は 0, 0.5, 1.0 のいずれか。思考過程や説明は "reason" のみ簡潔に。

user: |
  ## Extracted Triple
  {extracted_triple}

  ## Context (local + doc + graph; concatenated)
  {context}

  ## Ontology (excerpt)
  {ontology}

  ---
  ## Scoring (0/0.5/1.0)
  1. **evidence_match** (証拠一致性)
     - evidence_span_text が context に **一字一句**存在するか？
     - Score: 1.0 (完全一致) | 0.5 (部分一致) | 0.0 (不一致)

  2. **topic_alignment** (トピック整合性)
     - topic が **葉ノード**に正しく対応しているか？
     - Score: 1.0 (正確) | 0.5 (親ノードのみ) | 0.0 (不正確)

  3. **action_specificity** (活動具体性)
     - action が **具体的・検証可能**か？(汎用動詞は0点)
     - Score: 1.0 (非常に具体的) | 0.5 (やや抽象的) | 0.0 (抽象的)

  4. **context_consistency** (文脈一貫性)
     - 抽出内容が local/doc/graph コンテキストと矛盾しないか？
     - Score: 1.0 (一貫) | 0.5 (やや疑問) | 0.0 (矛盾)

  ## Output (JSON only)
  {{
    "evidence_match": float,
    "topic_alignment": float,
    "action_specificity": float,
    "context_consistency": float,
    "confidence": float,           // 4項目の平均（四捨五入はしない）
    "decision": "accept" | "reject",  // confidence >= {confidence_threshold} → accept
    "reason": "短い根拠説明（最大200文字）"
  }}
