{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "ESG Action Record Schema",
  "description": "Structured schema for extracting ESG actions from corporate sustainability reports using LLMs",
  "type": "object",
  "required": ["company", "topic", "action", "actor", "target", "modality", "evidence_page", "evidence_span_text", "confidence"],
  "properties": {
    "company": {
      "type": "string",
      "description": "Corporate entity name (standardized)",
      "examples": ["Toyota Motor Corp", "Sony Group Corp", "Mitsubishi UFJ Financial Group"]
    },
    "topic": {
      "type": "string",
      "description": "ESG topic from 39-category taxonomy (leaf node only)",
      "enum": [
        "emissions_reduction", "renewable_energy", "energy_efficiency", "water_management",
        "waste_reduction", "circular_economy", "biodiversity", "pollution_control",
        "climate_adaptation", "green_products", "environmental_compliance", "carbon_pricing",
        "scope3_emissions", "environmental_innovation",
        "diversity_inclusion", "employee_wellbeing", "human_rights", "labor_practices",
        "occupational_safety", "talent_development", "community_engagement", "product_safety",
        "customer_privacy", "supply_chain_labor", "indigenous_rights", "accessibility",
        "employee_benefits", "social_innovation", "stakeholder_dialogue",
        "board_governance", "executive_compensation", "risk_management", "compliance",
        "anti_corruption", "data_security", "business_ethics", "tax_transparency",
        "shareholder_rights", "stakeholder_engagement"
      ]
    },
    "action": {
      "type": "string",
      "description": "Specific action verb (normalized to standard vocabulary, no abstract verbs)",
      "examples": ["install", "reduce", "train", "audit", "disclose", "establish", "implement", "achieve"],
      "pattern": "^[a-z_]+$"
    },
    "actor": {
      "type": "string",
      "description": "Entity performing the action (who)",
      "examples": ["company", "board_of_directors", "employees", "management", "suppliers", "government"],
      "default": "company"
    },
    "target": {
      "type": "string",
      "description": "Beneficiary or affected entity (whom/what)",
      "examples": [
        "employees", "suppliers", "local_communities", "customers", "society",
        "CO2_emissions", "factory_A", "all_facilities", "scope1_2_emissions"
      ]
    },
    "modality": {
      "type": "string",
      "description": "Temporal framing of the action",
      "enum": ["past_action", "ongoing", "future_commitment", "cancelled"],
      "examples": [
        "past_action: completed activities with measurable outcomes",
        "ongoing: continuous operations or programs in progress",
        "future_commitment: pledges or targets for future dates",
        "cancelled: previously announced actions that were discontinued"
      ]
    },
    "evidence_page": {
      "type": "integer",
      "description": "Source page number in the sustainability report",
      "minimum": 1,
      "examples": [42, 67, 128]
    },
    "evidence_span_text": {
      "type": "string",
      "description": "Verbatim text excerpt from source document (8-400 characters, exact quote)",
      "minLength": 8,
      "maxLength": 400,
      "examples": [
        "工場AでLED照明へ更新し、年間電力使用量を12%削減した。",
        "Installed solar panels at all manufacturing facilities, generating 3.2 MW renewable energy annually."
      ]
    },
    "confidence": {
      "type": "number",
      "description": "Multi-dimensional confidence score (weighted average of 4 metrics)",
      "minimum": 0.0,
      "maximum": 1.0,
      "examples": [0.85, 0.92, 1.0],
      "properties": {
        "evidence_consistency": {
          "type": "number",
          "description": "Evidence text exact match score (weight: 0.4)"
        },
        "topic_alignment": {
          "type": "number",
          "description": "Topic ontology correctness score (weight: 0.2)"
        },
        "action_specificity": {
          "type": "number",
          "description": "Action verb concreteness score (weight: 0.2)"
        },
        "context_consistency": {
          "type": "number",
          "description": "Context coherence score (weight: 0.2)"
        }
      }
    },
    "year": {
      "type": "integer",
      "description": "Fiscal year of the sustainability report",
      "minimum": 2020,
      "maximum": 2030,
      "examples": [2024]
    },
    "industry": {
      "type": "string",
      "description": "GICS sector classification (optional metadata)",
      "examples": ["Industrials", "Financials", "Information Technology"]
    }
  },
  "examples": [
    {
      "company": "Toyota Motor Corp",
      "topic": "emissions_reduction",
      "action": "reduce_emissions",
      "actor": "company",
      "target": "global_operations",
      "modality": "past_action",
      "evidence_page": 42,
      "evidence_span_text": "2024年度、グローバル全体のCO2排出量を前年比30%削減した。",
      "confidence": 0.95,
      "year": 2024,
      "industry": "Consumer Discretionary"
    },
    {
      "company": "Sony Group Corp",
      "topic": "diversity_inclusion",
      "action": "train",
      "actor": "employees",
      "target": "all_managers",
      "modality": "ongoing",
      "evidence_page": 67,
      "evidence_span_text": "全管理職を対象に、無意識バイアス研修を実施している。",
      "confidence": 0.88,
      "year": 2024,
      "industry": "Communication Services"
    },
    {
      "company": "Mitsubishi UFJ Financial Group",
      "topic": "renewable_energy",
      "action": "finance",
      "actor": "company",
      "target": "renewable_projects",
      "modality": "future_commitment",
      "evidence_page": 128,
      "evidence_span_text": "2030年までに再生可能エネルギープロジェクトへの融資を50兆円に拡大する。",
      "confidence": 0.82,
      "year": 2024,
      "industry": "Financials"
    }
  ],
  "additionalProperties": false
}
